# Get to common directories fast
alias proj='cd ~/Projects'
alias sf='cd ~/Projects'
alias th='cd ~/Projects/stitch-fix-rails-project'

# Common command shortcuts
alias la='ls -la'
alias dir='ls -lF'
alias lr='ls -alrt'
alias l='ls -alF'
alias ds='du -k  | grep -v "\/.*\/"'
alias linecount="awk '{a+=\$1}END{print a}'"
alias dos2unix="perl -npe 's/\x0D/\x0A/g' "
alias diskspace="du -k | grep -v './.*\/'"
alias listening="netstat -an | grep LISTEN"

# Rails
alias r='rails'
alias be='bundle exec'
alias rs='bundle exec rails server'
alias fs='foreman start'
alias fsl='foreman start -f Procfile.lean'
alias fsb='foreman start -f Procfile.beefy'
alias rc='bundle exec rails console'
alias rspecs="RAILS_ENV=test RACK_ENV=test bundle exec rake spec"
alias rspecsff="RAILS_ENV=test RACK_ENV=test bundle exec rspec spec/ --fail-fast"
alias runspec="RAILS_ENV=test RACK_ENV=test bundle exec rspec"
#alias resetdb='rake db:drop && rake db:create && rake db:migrate && rake db:seed'
alias resetdb='bundle exec rake db:drop db:create db:migrate db:seed'
alias prodconsole='heroku run rails c -r production'
alias hr='heroku run'
alias migrate='be rake db:migrate && RAILS_ENV=test be rake db:migrate'
alias rollback='be rake db:rollback && RAILS_ENV=test be rake db:rollback'

# ElasticSearch web UI
alias esw='open http://localhost:9200/_plugin/head'

# Git
alias pull="git pull --rebase"
alias pb="git pull --rebase && bundle install"
alias master="git checkout master && git pull --rebase && bundle install"
alias bi="bundle install"
alias bu="bundle update"

# Django/Python
alias djc="DJANGO_ENV=local gunicorn core.wsgi:application"
#alias djc="DJANGO_ENV=local python manage.py shell"
alias djs="DJANGO_ENV=local python manage.py runserver"
alias djmigrate="DJANGO_ENV=local ./manage.py migrate --delete-ghost-migrations"
alias djmigratetest="DJANGO_ENV=local ./manage.py migrate --delete-ghost-migrations --db-dry-run"
alias djcs="DJANGO_ENV=local ./manage.py collectstatic"
alias djcompress="DJANGO_ENV=local ./manage.py compress"
alias djcompress_staging="DJANGO_ENV=staging ./manage.py compress"
alias djcompress_production="DJANGO_ENV=production ./manage.py compress"

# Network throttle
alias slowweb='sudo ipfw pipe 1 config bw 15KByte/s'
alias fastweb='sudo ipfw delete 1'

# Stitch Fix stuffs
alias proddb='heroku pg:psql -a transmetropolitan-production'
alias vigo='cd ~/Projects/vigo'
alias spectre='cd ~/Projects/spectre'
alias trigger='cd ~/Projects/trigger'
alias trans='cd ~/Projects/Transmetropolitan'
alias coremodels='cd ~/Projects/core_models'
alias scheduling='cd ~/Projects/scheduling'
alias kingmob='cd ~/Projects/kingmob'
alias km='cd ~/Projects/kingmob'
alias zs='cd ~/Projects/zendesk-service'
alias evalth='bundle install && bundle exec rake db:drop db:create db:migrate db:seed && rake'
